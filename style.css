:root {
    --primary: #0f172a;
    --accent: #6366f1;
    --orange: #fb923c;
    --success-green: #22c55e;
    --bg: #f8fafc;
    --border: #e2e8f0;
}

/* Base */
body { margin: 0; font-family: 'Plus Jakarta Sans', sans-serif; background: var(--bg); color: var(--primary); overflow: hidden; }
.app-container { display: flex; height: 100vh; width: 100vw; }

/* Sidebar (Version PC) */
.sidebar { width: 260px; background: var(--primary); color: white; padding: 25px; flex-shrink: 0; display: flex; flex-direction: column; }
.logo { font-weight: 900; font-size: 1.5rem; margin-bottom: 30px; }
.logo span { color: var(--accent); }
.sidebar nav { display: flex; flex-direction: column; gap: 10px; }
.nav-item { background: transparent; border: none; color: #94a3b8; padding: 15px; text-align: left; cursor: pointer; display: flex; align-items: center; gap: 10px; border-radius: 12px; font-weight: 700; }
.nav-item.active { background: white; color: var(--primary); }

/* Main Content */
.main-content { flex: 1; padding: 30px; overflow-y: auto; padding-bottom: 120px; }
.dashboard-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px; }
.card { background: white; padding: 20px; border-radius: 20px; border: 1px solid var(--border); box-shadow: 0 4px 6px -1px rgba(0,0,0,0.05); }
.dark-card { background: var(--primary); color: white; }

input, select, textarea { width: 100%; padding: 12px; margin-top: 5px; margin-bottom: 15px; border-radius: 10px; border: 1px solid var(--border); box-sizing: border-box; font-size: 16px; }
.plate-style { font-size: 1.8rem !important; font-weight: 900; text-align: center; border: 2px solid var(--primary) !important; text-transform: uppercase; }

/* IA Status Bar */
.ia-status-bar { position: fixed; bottom: 20px; left: 280px; right: 20px; height: 90px; background: rgba(15,23,42,0.95); backdrop-filter: blur(10px); border-radius: 25px; display: flex; align-items: center; justify-content: space-between; padding: 0 25px; color: white; z-index: 1000; box-shadow: 0 10px 30px rgba(0,0,0,0.3); }
.profit-value { font-size: 1.5rem; font-weight: 800; color: var(--success-green); }
.advice-value { font-size: 1.5rem; font-weight: 800; color: var(--orange); }

/* Checklist */
.checklist-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 10px; }
.check-item { background: white; padding: 15px; border-radius: 12px; border: 1px solid var(--border); display: flex; justify-content: space-between; align-items: center; }
.pill-group { display: flex; gap: 5px; }
.pill-btn { padding: 8px 15px; border-radius: 8px; border: 1px solid var(--border); cursor: pointer; font-weight: 800; }
.pill-btn.active[onclick*="1"] { background: var(--success-green); color: white; }
.pill-btn.active[onclick*="0"] { background: #ef4444; color: white; }

/* --- ADAPTATION MOBILE (IMPORTANT) --- */
@media (max-width: 768px) {
    .app-container { flex-direction: column; }
    
    /* Menu en bas */
    .sidebar {
        width: 100%; height: 70px; position: fixed; bottom: 0; left: 0; padding: 0; flex-direction: row; z-index: 2000;
    }
    .logo { display: none; }
    .sidebar nav { flex-direction: row; width: 100%; justify-content: space-around; align-items: center; }
    .nav-item { flex-direction: column; font-size: 0.6rem; padding: 5px; gap: 2px; width: 20%; align-items: center; text-align: center; }
    .nav-item i { width: 20px; }
    .nav-item span { display: block; }

    /* Zone de contenu débloquée */
    .main-content { padding: 15px; padding-bottom: 180px; }
    .dashboard-grid, .checklist-grid { grid-template-columns: 1fr !important; }

    /* Barre IA flottante */
    .ia-status-bar { left: 10px; right: 10px; bottom: 85px; height: auto; padding: 15px; flex-wrap: wrap; }
    .ia-central-brain { width: 100%; margin-bottom: 5px; justify-content: flex-start; }
    .profit-value, .advice-value { font-size: 1.2rem; }
}

/* Boutons */
.btn-orange { background: var(--orange); color: white; border: none; padding: 15px; border-radius: 12px; width: 100%; font-weight: 800; cursor: pointer; }
.btn-delete { background: #fee2e2; color: #ef4444; border: none; padding: 10px; border-radius: 10px; width: 100%; cursor: pointer; }
.modal { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); z-index:3000; }
.modal-content { background:white; width:90%; max-width:400px; margin:20% auto; padding:25px; border-radius:20px; }
/* --- OPTIMISATION MOBILE --- */
@media (max-width: 768px) {
    /* On empile les éléments pour éviter les débordements */
    .app-container {
        flex-direction: column;
        height: 100vh;
        overflow: hidden;
    }

    /* MENU : On le déplace du côté vers le bas de l'écran */
    .sidebar {
        width: 100%;
        height: 70px;
        position: fixed;
        bottom: 0;
        left: 0;
        z-index: 2000;
        padding: 0;
        background: var(--primary-blue);
        flex-direction: row; /* Alignement horizontal */
        justify-content: space-around;
        border-top: 2px solid var(--accent-orange);
    }

    .logo { display: none; } /* On cache le logo pour libérer de l'espace */

    .sidebar nav {
        display: flex;
        flex-direction: row;
        width: 100%;
        justify-content: space-around;
        align-items: center;
    }

    .nav-item {
        flex-direction: column; /* Icône au dessus du texte */
        font-size: 0.65rem;
        padding: 8px;
        margin: 0;
        gap: 4px;
        text-align: center;
        width: 20%;
    }

    .nav-item i { width: 20px; height: 20px; }

    /* ZONE DE CONTENU : On libère l'espace pour pouvoir scroller */
    .main-content {
        flex: 1;
        padding: 15px;
        padding-bottom: 180px; /* Espace pour pas que les cartes soient cachées par l'IA et le Menu */
        overflow-y: auto;
    }

    /* Les cartes s'affichent sur une seule colonne */
    .grid-container, .dashboard-grid, .checklist-grid {
        grid-template-columns: 1fr !important;
        gap: 15px;
    }

    /* BARRE IA : Elle flotte au-dessus du menu */
    .ia-status-bar {
        position: fixed;
        bottom: 80px; /* Juste au-dessus du menu */
        left: 10px;
        right: 10px;
        width: auto;
        height: auto;
        padding: 12px;
        border-radius: 20px;
        flex-wrap: wrap; /* Permet d'empiler les chiffres si besoin */
        z-index: 1500;
    }

    .ia-central-brain { order: -1; width: 100%; justify-content: flex-start; margin-bottom: 5px; }
    .profit-value, .advice-value { font-size: 1.2rem; }

    /* Checklist facile à cliquer au doigt */
    .check-item {
        padding: 15px;
        flex-direction: column;
        align-items: flex-start;
        gap: 10px;
    }
    .pill-group { width: 100%; }
    .pill-btn { flex: 1; padding: 12px; text-align: center; }

    /* Modals (Récapitulatif) */
    .modal-content {
        width: 95%;
        margin: 10% auto;
        padding: 20px;
    }
}
